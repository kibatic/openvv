{% extends 'base-aside.html.twig' %}

{% block body_size %}col-6{% endblock %}

{% block title %}{{ project.name }} : projet openvv{% endblock %}

{% block breadcrumb %}
    <li class="breadcrumb-item">
        <a href="{{ path('app_project_show', {id: project.id}) }}">Projet</a>
    </li>
{% endblock %}

{% block body %}
    <h1><span class="title-text-light">Projet</span> {{ project.name }}</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Rendering</th>
                <td>{{ project.renderer.name }}</td>
            </tr>
            <tr>
                <th>Sharing URL</th>
                <td>
                    {% if project.isShareActive %}
                    <a href="{{ url('app_renderer_view', {shareUid: project.shareUid}) }}">{{ url('app_renderer_view', {shareUid: project.shareUid}) }}</a><br/>
                    {% else %}
                        Not shared <a href="{{ path('app_share_new', {id: project.id}) }}" class="btn btn-primary">Share</a>
                    {% endif %}
                </td>
            </tr>
            <tr>
                <th>CreatedAt</th>
                <td>{{ project.createdAt ? project.createdAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
        </tbody>
    </table>

    <a href="{{ path('app_project_edit', {id: project.id}) }}" class="btn btn-primary">edit</a>
    <a href="{{ path('app_project_export', {id: project.id}) }}" class="btn btn-primary">export</a>
    {{ include('project/_delete_form.html.twig') }}
{% endblock %}

{% block aside %}
    <h2>Médias</h2>
    <a href="{{ path('app_media_new', {'project': project.id}) }}" class="btn btn-primary">Ajouter un média</a>

    {% include grid.theme ~ '/datagrid.html.twig' %}
{% endblock %}
