{% extends 'base-aside.html.twig' %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('mediaEdit') }}
{% endblock %}

{% block breadcrumb %}
    <li class="breadcrumb-item">
        <a href="{{ path('app_project_show', {id: media.project.id}) }}">Projet</a>
    </li>
    <li class="breadcrumb-item">
        <a href="{{ path('app_media_show', {id: media.id}) }}">Media</a>
    </li>
{% endblock %}

{% block title %}Edit the media {{ media.name }}{% endblock %}

{% block body %}
    <h1><span class="title-text-light">Edit the media</span> {{ media.name }}</h1>
    {{ form_start(form) }}
    {{ form_widget(form) }}
    <button class="btn btn-primary">Update media</button>
    {{ form_end(form) }}
{% endblock %}

{% block aside %}
    <p>Move the panorama to set the initial eye direction for this media</p>
    <div
        id="viewer"
        style="width: 100%; height: 30vh;"
        data-panorama="{{ path('app_media_download', {id: media.id}) }}"
        data-initial-position="{{ media.initialPosition|json_encode|escape('html_attr') }}"
    ></div>

{% endblock %}
